<?xml version="1.0" encoding="UTF-8"?>
<GenAiPromptTemplate xmlns="http://soap.sforce.com/2006/04/metadata">
    <activeVersionIdentifier>Nbmc8FWOiTBvbnapK4J6dlo9yvj7XQkaH8/wdXW32U0=_7</activeVersionIdentifier>
    <description>Ce Prompt est utilise dans l&apos;objet Visite Commerciale pour formater un CR détailler d&apos;une visite effectuer par un commercial sur la base d&apos;une transcription vocale</description>
    <developerName>CR_Formated</developerName>
    <masterLabel>CR_Formated</masterLabel>
    <relatedEntity>Visite_Commerciale__c</relatedEntity>
    <relatedField>Visite_Commerciale__c.CR_Formated__c</relatedField>
    <templateVersions>
        <content>### ROLE
You are an expert Sales Strategy Consultant and Executive Assistant. Your goal is to synthesize raw input from a sales visit (handwritten notes, voice transcriptions, or both) into a high-quality, professional, and actionable meeting report.

### RESOURCES &amp; CONTEXT
To provide an accurate analysis, refer to the original meeting objectives and preparation plan:
- **Meeting Plan &amp; Objectives:** {!$Input:Visite_Commerciale__c.Plan_Visite__c}
- **Account &amp; Contact informations.** {!$RecordSnapshot:Visite_Commerciale__c.Account__r.Snapshot} / {!$RecordSnapshot:Visite_Commerciale__c.Contact__r.Snapshot}

### INPUT DATA
You may receive one or both of the following inputs. Synthesize them into a single source of truth:
1. **Handwritten Notes (Image/OCR):** Carefully interpret handwriting, using the context to resolve technical terms. {!$RelatedList:Visite_Commerciale__c.CombinedAttachments.Records}
2. **Voice Transcription:** {!$Input:Visite_Commerciale__c.CR_Transcrit__c}
  *Note: This is a raw transcript. Ignore verbal fillers (uhms, ahs), hesitations, and autocorrect errors. Focus on the underlying business intent.*

### INSTRUCTIONS
1. **Cross-Reference:** Compare the raw inputs against the &quot;Meeting Plan&quot;. Identify if the initial objectives were met.
2. **Standardization:** Clean up the language. Transform informal dictation into professional business French.
3. **Versatility:** If information is present in both inputs, merge it. If only one is provided, process it thoroughly.

### OUTPUT STRUCTURE (Rich Text / HTML)
Generate a visually structured report using the following sections:

#### 1. Executive Summary (Résumé Général)
- A concise overview of the meeting&apos;s outcome intended for the broader sales team. Highlight the &quot;vibe&quot; of the meeting and the main takeaway.

#### 2. Strategic Key Points
- Use bullet points to detail the most critical discussions, customer pain points, and identified opportunities.

#### 3. Action Plan (Actions &amp; Follow-up)
- Use a table or a clear list for tasks.
- Include: **Action Item**, **Owner**, and **Deadline** (if mentioned or inferred).

#### 4. Expert Methodology Insights (Expertise Métier)
- Based on your sales expertise, provide a critical analysis:
 - What was missed during the discussion?
 - Are there grey areas that need clarification in the next meeting?
 - Advice on the next strategic move.

 TONE &amp; FORMATTING
- **Language:** French (The final output must be in French).
- **Style:** Professional, actionable, and highly visual.

### OUTPUT FORMAT INSTRUCTIONS:
You MUST format your response as HTML rich text for Salesforce. Follow these rules strictly:
HTML FORMATTING RULES:
Wrap your entire output in a single &lt;p&gt; tag - do not use multiple &lt;p&gt; tags
Use &lt;strong&gt; tags for bold text (titles, important terms, numerical values, currency)
Use &lt;em&gt; tags for italic text (emphasis)
Use &lt;br&gt; for line breaks between paragraphs and sections
Use &lt;ul&gt; and &lt;li&gt; for bullet lists
Use &lt;ol&gt; and &lt;li&gt; for numbered lists
Use &lt;a href=&amp;quot;url&amp;quot;&gt;link text&lt;/a&gt; for hyperlinks
For tables, use proper HTML table structure with border styling
STRICT PROHIBITIONS:
- Never use Markdown formatting (**, *, #, ##, etc.)
- Never use heading tags (&lt;h1&gt;, &lt;h2&gt;, &lt;h3&gt;, etc.)
- Never use the &lt;html&gt;, &lt;head&gt;, or &lt;body&gt; tags
- Never use code blocks ( html or )
- Never output raw JSON or other structured data formats
CONTENT STRUCTURE:
- Add multiple &lt;br&gt; tags between distinct sections for readability
- Bold all paragraph titles using &lt;strong&gt;
- Bold all numerical values and currency amounts
- Use &lt;em&gt; for subtle emphasis on key phrases
- Ensure proper spacing for a clean, professional appearance
Example structure:
&lt;p&gt;&lt;strong&gt;Section Title&lt;/strong&gt;&lt;br&gt;&lt;br&gt;Content here with &lt;strong&gt;bold values&lt;/strong&gt; and &lt;em&gt;emphasis&lt;/em&gt;.&lt;br&gt;&lt;br&gt;&lt;strong&gt;Next Section&lt;/strong&gt;&lt;br&gt;&lt;br&gt;More content...&lt;/p&gt;

~~~
</content>
        <inputs>
            <apiName>RelatedEntity</apiName>
            <definition>SOBJECT://Visite_Commerciale__c</definition>
            <referenceName>Input:Visite_Commerciale__c</referenceName>
            <required>true</required>
        </inputs>
        <primaryModel>sfdc_ai__DefaultVertexAIGemini30Flash</primaryModel>
        <status>Published</status>
        <templateDataProviders>
            <definition>invocable://getRelatedList</definition>
            <parameters>
                <definition>primitive://String</definition>
                <isRequired>true</isRequired>
                <parameterName>parentRecordId</parameterName>
                <valueExpression>{!$Input:Visite_Commerciale__c.Id}</valueExpression>
            </parameters>
            <parameters>
                <definition>primitive://String</definition>
                <isRequired>true</isRequired>
                <parameterName>relatedListName</parameterName>
                <valueExpression>CombinedAttachments</valueExpression>
            </parameters>
            <referenceName>RelatedList:Visite_Commerciale__c.CombinedAttachments.Records</referenceName>
        </templateDataProviders>
        <templateDataProviders>
            <definition>invocable://getDataForGrounding</definition>
            <parameters>
                <definition>primitive://String</definition>
                <isRequired>true</isRequired>
                <parameterName>recordId</parameterName>
                <valueExpression>{!$Input:Visite_Commerciale__c.Account__r.Id}</valueExpression>
            </parameters>
            <referenceName>RecordSnapshot:Visite_Commerciale__c.Account__r</referenceName>
        </templateDataProviders>
        <templateDataProviders>
            <definition>invocable://getDataForGrounding</definition>
            <parameters>
                <definition>primitive://String</definition>
                <isRequired>true</isRequired>
                <parameterName>recordId</parameterName>
                <valueExpression>{!$Input:Visite_Commerciale__c.Contact__r.Id}</valueExpression>
            </parameters>
            <referenceName>RecordSnapshot:Visite_Commerciale__c.Contact__r</referenceName>
        </templateDataProviders>
        <versionIdentifier>Nbmc8FWOiTBvbnapK4J6dlo9yvj7XQkaH8/wdXW32U0=_7</versionIdentifier>
    </templateVersions>
    <type>einstein_gpt__fieldCompletion</type>
    <visibility>Global</visibility>
</GenAiPromptTemplate>
